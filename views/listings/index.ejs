<% layout("/layouts/boilerplate") -%>
<div class="filters-container">
  <button id="left-arrow" class="arrow">&#10094;</button>
  <div id="filters">
    <div class="filters"><i class="fa-solid fa-fire"></i><p>Trending</p></div>
    <div class="filters"><i class="fa-solid fa-bed"></i><p>Rooms</p></div>
    <div class="filters"><i class="fa-solid fa-water-ladder"></i><p>Pools</p></div>
    <div class="filters"><i class="fa-solid fa-umbrella-beach"></i><p>Beach Front</p></div>
    <div class="filters"><i class="fa-brands fa-fort-awesome"></i><p>Mansions</p></div>
    <div class="filters"><i class="fa-solid fa-mountain-sun"></i><p>Amazing Views</p></div>
    <div class="filters"><i class="fa-solid fa-horse"></i><p>Countryside</p></div>
    <div class="filters"><i class="fa-solid fa-igloo"></i><p>Domes</p></div>
    <div class="filters"><i class="fa-solid fa-campground"></i><p>Campground</p></div>
    <div class="filters"><i class="fa-solid fa-snowflake"></i><p>Arctic</p></div>
  </div>
  <button id="right-arrow" class="arrow">&#10095;</button>
  <div class="tax-toggle">
    <div class="form-check-reverse form-switch">
      <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
      <label class="form-check-label" for="flexSwitchCheckDefault">Display after taxes</label>
    </div>
  </div>  
</div>
    <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1">
        <% for(let listing of allListings){%>
            <a href="/listings/<%= listing._id %>"class = "listing-link">
            <div class="card col listing-card">
                <img src="<%= listing.image.url%>" class="card-img-top" style = "height: 20rem;" alt="listing-img">
                <div class="card-img-overlay"></div>
                <div class="card-body">
                  <h5 class="card-title"><%= listing.title%></h5>
                  <p class="card-text">
                    &#8377;<%= listing.price.toLocaleString("en-IN") %>/night
                    <i class="tax-info" >&nbsp; &nbsp; +18% GST</i>
                </p>
                </div>
              </div>
            </a>
              <%}%>
    </div>
<script>
const filters = document.getElementById("filters");
const leftArrow = document.getElementById("left-arrow");
const rightArrow = document.getElementById("right-arrow");

rightArrow.addEventListener("click", () => {
  filters.scrollBy({ left: 200, behavior: "smooth" });
});

leftArrow.addEventListener("click", () => {
  filters.scrollBy({ left: -200, behavior: "smooth" });
});

let taxSwitch = document.getElementById("flexSwitchCheckDefault")
taxSwitch.addEventListener("click",()=>{
  let taxInfo = document.getElementsByClassName("tax-info");
  for(info of taxInfo){
    if(info.style.display != "inline"){
      info.style.display = "inline";
    }
    else{
      info.style.display = "none";
    }
  }
  
})

</script>